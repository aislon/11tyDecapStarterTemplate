<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="noindex" />
    <title>Aislon Web Manager</title>
    <style>
     

      .analytics-link:hover {
        color: rgb(58, 105, 199);
      }
      
      .analytics-link:hover .analytiscIcon svg path {
        stroke: rgb(58, 105, 199);
        transition: stroke 0.2s ease;
      }
    </style>
  </head>
  <body>
    <!-- Include the script that builds the page and powers Decap CMS -->
     <!-- <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>  -->
  
    <script src="decap-cms.js"></script>


    
    <!-- <script type="text/javascript" src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script> -->
       <script src="netlify-identity-widget.js"></script>
    





        <!-- Script for accepting netlify auth link callbacks? -->
       <script>
        // Initialize Netlify Identity
        if (window.netlifyIdentity) {
          window.netlifyIdentity.on("init", user => {
            if (!user) {
              window.netlifyIdentity.on("login", () => {
                document.location.href = "/admin/";
              });
            }
          });
  
          // Handle redirect after email confirmation
          window.netlifyIdentity.on("error", err => console.error("Netlify Identity error:", err));
          window.netlifyIdentity.on("login", () => {
            console.log("Logged in successfully");
            window.location.href = "/admin/#/";
          });
          window.netlifyIdentity.on("logout", () => {
            console.log("Logged out");
            window.location.href = "/";
          });
        }
      </script>


    <!-- Navbar Analytics Button -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Function to create and insert the new button
        function addAnalyticsButton() {
          // Check if the button already exists
          if (document.querySelector('.analytics-button')) return;
    
          var newButton = document.createElement('li');
          newButton.classList.add('analytics-button');
          newButton.innerHTML = '<a class="css-b18hzq-AppHeaderNavLink-AppHeaderButton-button-button-buttonActive-buttonActive-buttonActive-buttonActive-buttonActive-buttonActive-buttonActive-buttonActive-AppHeaderButton-AppHeaderButton e1rbzf6g5" href="https://aislon.com/web/analytics.html" target="_blank"><span class="e1jeq5dr0 css-5nxuzj-IconWrapper e1jeq5dr1"><svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path  d="m4 19 3.754-7.508a1 1 0 0 1 .55-.492q1.214-.445 1.46.29l1.355 4.067a1 1 0 0 0 .475.565q1.14.611 1.486-.081L18 6m-5 .464 4.277-1.146a1 1 0 0 1 .482-.01q.839.193.964.658l1.205 4.498" stroke="currentColor" stroke-width="2"/></svg></span>Analytics</a>';
    
          var navbar = document.querySelector('.css-29qn50-AppHeaderNavList.e1rbzf6g0');
          if (navbar) {
            navbar.appendChild(newButton);
          }
        }
    
        // Create a MutationObserver to watch for the navbar
        var observer = new MutationObserver(function(mutations) {
          mutations.forEach(function(mutation) {
            if (mutation.addedNodes.length) {
              var navbar = document.querySelector('.css-29qn50-AppHeaderNavList.e1rbzf6g0');
              if (navbar) {
                addAnalyticsButton();
                observer.disconnect(); // Stop observing once the button is added
              }
            }
          });
        });
    
        // Start observing the document for changes
        observer.observe(document.body, { childList: true, subtree: true });
      });
    </script>

   <script>
   // Add responsive styles to head
const responsiveStyles = document.createElement('style');
responsiveStyles.textContent = `
  /* Base responsive styles */
  @media screen and (max-width: 768px) {
    /* Prevent horizontal scroll */
    body {
      overflow-x: hidden;
      width: 100%;
    }

    /* Fixed header */
    .css-8zenuf-AppHeader-css {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: white;
      z-index: 1000;
      padding: 0.5rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    /* Header content layout */
    .css-y5bbau-AppHeaderContent {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-direction: row;
    }

    /* Navigation menu */
    .css-29qn50-AppHeaderNavList {
      display: none;
      position: fixed;
      top: 56px; /* Height of header */
      right: 0;
      width: 250px;
      height: calc(100vh - 56px);
      background: white;
      box-shadow: -2px 0 4px rgba(0,0,0,0.1);
      padding: 1rem 0;
      margin: 0;
      flex-direction: column;
      overflow-y: auto;
      z-index: 999;
    }

    /* Show nav when active */
    .css-29qn50-AppHeaderNavList.mobile-active {
      display: flex;
    }

    /* Nav items */
    .css-29qn50-AppHeaderNavList li {
      width: 100%;
      margin: 0;
    }

    .css-29qn50-AppHeaderNavList li a,
    .css-29qn50-AppHeaderNavList li button {
      width: 100%;
      padding: 1rem 1.5rem;
      justify-content: flex-start;
      text-align: left;
    }

    /* Main content adjustment */
    .css-1fehwpo-AppMainContainer {
      margin-top: 56px; /* Height of fixed header */
      padding: 1rem;
    }

    /* Hamburger menu button */
    .mobile-menu-button {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0.5rem;
      background: none;
      border: none;
      cursor: pointer;
      margin-left: auto;
    }

    /* Hide menu button on desktop */
    @media screen and (min-width: 769px) {
      .mobile-menu-button {
        display: none;
      }
      
      .css-29qn50-AppHeaderNavList {
        display: flex !important;
        position: static;
        width: auto;
        height: auto;
        box-shadow: none;
        flex-direction: row;
        padding: 0;
        background: none;
      }

      .css-1fehwpo-AppMainContainer {
        margin-top: 0;
      }

      .css-8zenuf-AppHeader-css {
        position: static;
        box-shadow: none;
      }
    }

    /* Add overlay when menu is open */
    .mobile-menu-overlay {
      display: none;
      position: fixed;
      top: 56px;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      z-index: 998;
    }

    .mobile-menu-overlay.active {
      display: block;
    }
  }
`;

document.head.appendChild(responsiveStyles);

// Create and add hamburger menu button
function addMobileMenuButton() {
  const header = document.querySelector('.css-y5bbau-AppHeaderContent');
  const navList = document.querySelector('.css-29qn50-AppHeaderNavList');
  
  if (!header || !navList) return;

  // Create overlay
  const overlay = document.createElement('div');
  overlay.className = 'mobile-menu-overlay';
  document.body.appendChild(overlay);

  const menuButton = document.createElement('button');
  menuButton.className = 'mobile-menu-button';
  menuButton.innerHTML = `
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  `;

  // Toggle menu and overlay
  menuButton.addEventListener('click', () => {
    navList.classList.toggle('mobile-active');
    overlay.classList.toggle('active');
  });

  // Close menu when clicking overlay
  overlay.addEventListener('click', () => {
    navList.classList.remove('mobile-active');
    overlay.classList.remove('active');
  });

  // Insert button in header
  header.appendChild(menuButton);
}

// Initialize mobile menu
function initMobileMenu() {
  addMobileMenuButton();
}

// Run when DOM is loaded
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initMobileMenu);
} else {
  initMobileMenu();
}

// Handle window resize
window.addEventListener('resize', () => {
  const navList = document.querySelector('.css-29qn50-AppHeaderNavList');
  const overlay = document.querySelector('.mobile-menu-overlay');
  if (window.innerWidth > 768) {
    if (navList) navList.classList.remove('mobile-active');
    if (overlay) overlay.classList.remove('active');
  }
});
   </script>

    </body>
    </html>